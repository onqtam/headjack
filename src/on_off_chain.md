# On-chain vs off-chain

Due to practical limitations, it is [impossible](web_scale.md) to put everything on a blockchain so we have to make a key distinction:
- The importance of user data is on a spectrum with identity & connections being the most valuable - a clear example is [Substack](https://en.wikipedia.org/wiki/Substack) (basically [Medium](https://en.wikipedia.org/wiki/Medium_(website)) but you own the mailing list for your audience). The [interest graph](https://en.wikipedia.org/wiki/Interest_graph) is the subscription layer for information propagation - a forward-looking & ever-evolving data structure that gets reused over and over again each time content is created. It is the [essential crown jewel](https://twitter.com/balajis/status/1162539429484871681) that needs preservation - the global [pub-sub](https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern). The data availability (DA - storage & retrievability) for identity & the interest graph needs to be guaranteed with cryptoeconomics on a permissionless ledger so anyone can build around it.
- Content should be stored off-chain ([IPFS](https://en.wikipedia.org/wiki/InterPlanetary_File_System) and other protocols) because of the sheer volume - it's ephemeral and its relevance fades with time. Most of it doesn't have to be stored forever but any piece can be backed up through third-party archival services. It gets anchored with cryptographic [Merkle roots](https://en.wikipedia.org/wiki/Merkle_tree) in the main chain so that permissions, inclusion & sequence are provable - that way even if content goes dark it can later resurface and be deduplicated by linking it to previous instances (as long as Merkle proofs are present).

The terms [message](messages.md)/event/action/data/content are used interchangeably in this book and refer to any type of event/content a user might have generated - post/comment/reaction/etc.

> "When identities become portable, backends become liquid" - [@balajis](https://twitter.com/coconidodev/status/1504850437727571974)

The game theory behind why competing interfaces (presentation layers/applications/views - probably operated by a company with a business model) would freely share the activity of their users with others to display is that if they don't they would be effectively denying reach - users would migrate to a competitor because the cost to do so is 0 - [`voice and exit`](https://en.wikipedia.org/wiki/Exit,_Voice,_and_Loyalty_Model). Current social media platforms are monopolies because identities are not portable and the network effects are in private database silos - a problem practically insurmountable for incumbents.
